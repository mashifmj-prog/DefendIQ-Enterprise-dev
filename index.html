<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DefendIQ Enterprise - Advanced Analytics & Gamification</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            /* Enhanced Color System */
            --primary: #1a56db;
            --primary-dark: #1e40af;
            --primary-light: #3b82f6;
            --secondary: #0e2a47;
            --accent: #8b5cf6;
            --success: #10b981;
            --warning: #f59e0b;
            --danger: #ef4444;
            --info: #06b6d4;
            
            /* Background Colors */
            --bg-primary: #ffffff;
            --bg-secondary: #f8fafc;
            --bg-card: #ffffff;
            --bg-sidebar: #0e2a47;
            
            /* Text Colors */
            --text-primary: #1e293b;
            --text-secondary: #475569;
            --text-muted: #64748b;
            --text-light: #ffffff;
            
            /* Gamification Colors */
            --points-gold: #ffd700;
            --points-silver: #c0c0c0;
            --points-bronze: #cd7f32;
            --points-platinum: #e5e4e2;
            
            /* Border Colors */
            --border-light: #e2e8f0;
            --border-medium: #cbd5e1;
            
            /* Shadows */
            --shadow-sm: 0 1px 3px rgba(0,0,0,0.1);
            --shadow-md: 0 4px 6px rgba(0,0,0,0.1);
            --shadow-lg: 0 10px 25px rgba(0,0,0,0.15);
            --shadow-xl: 0 20px 40px rgba(0,0,0,0.2);
            
            /* Gradients */
            --gradient-primary: linear-gradient(135deg, var(--primary), var(--accent));
            --gradient-success: linear-gradient(135deg, var(--success), #34d399);
            --gradient-warning: linear-gradient(135deg, var(--warning), #fbbf24);
            --gradient-danger: linear-gradient(135deg, var(--danger), #f87171);
        }

        [data-theme="dark"] {
            --bg-primary: #0f172a;
            --bg-secondary: #1e293b;
            --bg-card: #1e293b;
            --text-primary: #f1f5f9;
            --text-secondary: #e2e8f0;
            --text-muted: #94a3b8;
            --border-light: #334155;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--bg-primary);
            color: var(--text-primary);
            transition: all 0.3s ease;
            line-height: 1.6;
        }

        .container {
            display: grid;
            grid-template-columns: 280px 1fr;
            min-height: 100vh;
        }

        /* Enhanced Sidebar */
        .sidebar {
            background: var(--bg-sidebar);
            color: var(--text-light);
            padding: 2rem 1.5rem;
            position: fixed;
            width: 280px;
            height: 100vh;
            overflow-y: auto;
            z-index: 1000;
        }

        .logo {
            display: flex;
            align-items: center;
            margin-bottom: 3rem;
            padding-bottom: 1.5rem;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }

        .logo h1 {
            font-size: 1.4rem;
            font-weight: 700;
            background: linear-gradient(135deg, #fff, #e2e8f0);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .nav-links {
            list-style: none;
            margin-bottom: 2rem;
        }

        .nav-links li {
            margin-bottom: 0.5rem;
        }

        .nav-links a {
            display: flex;
            align-items: center;
            padding: 1rem 1.25rem;
            color: rgba(255,255,255,0.8);
            text-decoration: none;
            border-radius: 12px;
            transition: all 0.3s ease;
            font-weight: 500;
        }

        .nav-links a:hover, .nav-links a.active {
            background: rgba(255,255,255,0.1);
            color: white;
            transform: translateX(8px);
        }

        .nav-links i {
            margin-right: 12px;
            font-size: 1.2rem;
            width: 20px;
            text-align: center;
        }

        /* User Profile in Sidebar */
        .user-profile {
            background: rgba(255,255,255,0.05);
            border-radius: 15px;
            padding: 1.5rem;
            margin-top: auto;
            border: 1px solid rgba(255,255,255,0.1);
        }

        .user-stats {
            display: flex;
            justify-content: space-between;
            margin-top: 1rem;
        }

        .stat {
            text-align: center;
        }

        .stat-value {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--points-gold);
        }

        .stat-label {
            font-size: 0.8rem;
            opacity: 0.8;
        }

        /* Main Content */
        .main-content {
            padding: 2rem 3rem;
            margin-left: 280px;
            background: var(--bg-primary);
        }

        /* Enhanced Header */
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 3rem;
            padding-bottom: 1.5rem;
            border-bottom: 2px solid var(--border-light);
        }

        .header h2 {
            font-size: 2.2rem;
            font-weight: 800;
            background: var(--gradient-primary);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .header-actions {
            display: flex;
            gap: 1rem;
            align-items: center;
        }

        /* Theme Toggle */
        .theme-toggle {
            background: var(--bg-card);
            border: 2px solid var(--border-light);
            border-radius: 50px;
            padding: 0.75rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            box-shadow: var(--shadow-sm);
            transition: all 0.3s ease;
        }

        .theme-toggle:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-md);
        }

        /* Enhanced Cards */
        .dashboard-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-bottom: 3rem;
        }

        .card {
            background: var(--bg-card);
            border-radius: 20px;
            padding: 2rem;
            box-shadow: var(--shadow-lg);
            border: 1px solid var(--border-light);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 5px;
            background: var(--gradient-primary);
        }

        .card:hover {
            transform: translateY(-8px);
            box-shadow: var(--shadow-xl);
        }

        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }

        .card-title {
            font-size: 1.2rem;
            font-weight: 700;
            color: var(--text-primary);
        }

        .card-icon {
            width: 60px;
            height: 60px;
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.5rem;
            box-shadow: var(--shadow-md);
        }

        .card-value {
            font-size: 2.8rem;
            font-weight: 800;
            margin-bottom: 0.5rem;
            background: var(--gradient-primary);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        /* Analytics Grid */
        .analytics-grid {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 2rem;
            margin-bottom: 3rem;
        }

        .chart-container {
            background: var(--bg-card);
            border-radius: 20px;
            padding: 2rem;
            box-shadow: var(--shadow-lg);
            border: 1px solid var(--border-light);
        }

        .chart-header {
            display: flex;
            justify-content: between;
            align-items: center;
            margin-bottom: 2rem;
        }

        .chart-title {
            font-size: 1.4rem;
            font-weight: 700;
            color: var(--text-primary);
        }

        /* Leaderboard */
        .leaderboard {
            background: var(--bg-card);
            border-radius: 20px;
            padding: 2rem;
            box-shadow: var(--shadow-lg);
            border: 1px solid var(--border-light);
        }

        .leaderboard-item {
            display: flex;
            align-items: center;
            padding: 1rem;
            border-radius: 12px;
            margin-bottom: 0.75rem;
            transition: all 0.3s ease;
            border: 1px solid var(--border-light);
        }

        .leaderboard-item:hover {
            transform: translateX(5px);
            background: var(--bg-secondary);
        }

        .rank {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            margin-right: 1rem;
            color: white;
        }

        .rank-1 { background: var(--points-gold); }
        .rank-2 { background: var(--points-silver); }
        .rank-3 { background: var(--points-bronze); }
        .rank-4 { background: var(--primary); }

        /* Training Modules Grid */
        .training-modules {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 2rem;
            margin-bottom: 3rem;
        }

        .module-card {
            background: var(--bg-card);
            border-radius: 20px;
            overflow: hidden;
            box-shadow: var(--shadow-lg);
            border: 1px solid var(--border-light);
            transition: all 0.3s ease;
        }

        .module-card:hover {
            transform: translateY(-8px);
            box-shadow: var(--shadow-xl);
        }

        .module-header {
            padding: 2rem;
            color: white;
            position: relative;
        }

        .module-badge {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: rgba(255,255,255,0.2);
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
        }

        .module-content {
            padding: 2rem;
        }

        /* Progress Bars */
        .progress-container {
            margin-bottom: 1.5rem;
        }

        .progress-info {
            display: flex;
            justify-content: space-between;
            margin-bottom: 0.5rem;
        }

        .progress-bar {
            height: 10px;
            background: var(--border-light);
            border-radius: 10px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            border-radius: 10px;
            transition: width 1s ease;
        }

        /* Buttons */
        .btn {
            padding: 1rem 2rem;
            border: none;
            border-radius: 12px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            text-decoration: none;
        }

        .btn-primary {
            background: var(--gradient-primary);
            color: white;
            box-shadow: var(--shadow-md);
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }

        /* Enhanced Zara AI */
        .zara-ai {
            background: var(--bg-card);
            border-radius: 20px;
            box-shadow: var(--shadow-lg);
            overflow: hidden;
            border: 1px solid var(--border-light);
        }

        .zara-header {
            background: var(--gradient-primary);
            color: white;
            padding: 1.5rem 2rem;
            display: flex;
            align-items: center;
        }

        .zara-avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: rgba(255,255,255,0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 1rem;
            font-size: 1.5rem;
        }

        .zara-chat {
            height: 400px;
            padding: 2rem;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 1rem;
            background: var(--bg-secondary);
        }

        .message {
            max-width: 80%;
            padding: 1rem 1.5rem;
            border-radius: 20px;
            line-height: 1.5;
            animation: messageAppear 0.3s ease;
        }

        .message.ai {
            align-self: flex-start;
            background: var(--bg-card);
            border-bottom-left-radius: 5px;
            box-shadow: var(--shadow-sm);
        }

        .message.user {
            align-self: flex-end;
            background: var(--gradient-primary);
            color: white;
            border-bottom-right-radius: 5px;
        }

        .zara-input {
            display: flex;
            padding: 1.5rem 2rem;
            border-top: 1px solid var(--border-light);
            background: var(--bg-card);
            gap: 1rem;
        }

        /* Achievement Badges */
        .badges-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 1.5rem;
            margin-top: 2rem;
        }

        .badge {
            text-align: center;
            padding: 1.5rem 1rem;
            border-radius: 15px;
            background: var(--bg-secondary);
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }

        .badge.earned {
            border-color: var(--success);
            background: var(--bg-card);
            box-shadow: var(--shadow-md);
        }

        .badge-icon {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            margin: 0 auto 1rem;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            color: white;
        }

        /* Animations */
        @keyframes messageAppear {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        .pulse {
            animation: pulse 2s infinite;
        }

        /* Responsive Design */
        @media (max-width: 1200px) {
            .analytics-grid {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 768px) {
            .container {
                grid-template-columns: 1fr;
            }
            
            .sidebar {
                transform: translateX(-100%);
            }
            
            .main-content {
                margin-left: 0;
                padding: 1.5rem;
            }
            
            .dashboard-cards, .training-modules {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Enhanced Sidebar -->
        <aside class="sidebar">
            <div class="logo">
                <h1>DefendIQ Enterprise</h1>
            </div>
            
            <ul class="nav-links">
                <li><a href="#" class="active"><i class="fas fa-home"></i> Dashboard</a></li>
                <li><a href="#"><i class="fas fa-graduation-cap"></i> Training</a></li>
                <li><a href="#"><i class="fas fa-trophy"></i> Achievements</a></li>
                <li><a href="#"><i class="fas fa-chart-line"></i> Analytics</a></li>
                <li><a href="#"><i class="fas fa-users"></i> Team</a></li>
                <li><a href="#"><i class="fas fa-cog"></i> Settings</a></li>
            </ul>

            <div class="user-profile">
                <div style="display: flex; align-items: center; margin-bottom: 1rem;">
                    <div style="width: 50px; height: 50px; border-radius: 50%; background: var(--gradient-primary); display: flex; align-items: center; justify-content: center; color: white; font-weight: bold; margin-right: 1rem;">JD</div>
                    <div>
                        <div style="font-weight: 600;">John Doe</div>
                        <div style="font-size: 0.8rem; opacity: 0.8;">Security Manager</div>
                    </div>
                </div>
                <div class="user-stats">
                    <div class="stat">
                        <div class="stat-value">1,250</div>
                        <div class="stat-label">Points</div>
                    </div>
                    <div class="stat">
                        <div class="stat-value">12</div>
                        <div class="stat-label">Badges</div>
                    </div>
                    <div class="stat">
                        <div class="stat-value">4</div>
                        <div class="stat-label">Certs</div>
                    </div>
                </div>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Enhanced Header -->
            <div class="header">
                <h2>Security Training Analytics</h2>
                <div class="header-actions">
                    <div class="theme-toggle">
                        <i class="fas fa-moon"></i>
                        <i class="fas fa-sun"></i>
                    </div>
                    <div style="display: flex; align-items: center; background: var(--bg-card); padding: 0.75rem 1.5rem; border-radius: 15px; border: 1px solid var(--border-light);">
                        <i class="fas fa-coins" style="color: var(--points-gold); margin-right: 0.5rem;"></i>
                        <span style="font-weight: 600;">1,250</span>
                    </div>
                </div>
            </div>

            <!-- Enhanced Dashboard Cards -->
            <div class="dashboard-cards">
                <div class="card">
                    <div class="card-header">
                        <div class="card-title">Team Progress</div>
                        <div class="card-icon" style="background: var(--gradient-primary);">
                            <i class="fas fa-chart-line"></i>
                        </div>
                    </div>
                    <div class="card-value">87%</div>
                    <div style="color: var(--text-muted);">+5% from last month</div>
                </div>
                
                <div class="card">
                    <div class="card-header">
                        <div class="card-title">Certificates Issued</div>
                        <div class="card-icon" style="background: var(--gradient-success);">
                            <i class="fas fa-trophy"></i>
                        </div>
                    </div>
                    <div class="card-value">156</div>
                    <div style="color: var(--text-muted);">+24 this month</div>
                </div>
                
                <div class="card">
                    <div class="card-header">
                        <div class="card-title">Risk Score</div>
                        <div class="card-icon" style="background: var(--gradient-danger);">
                            <i class="fas fa-shield-alt"></i>
                        </div>
                    </div>
                    <div class="card-value">Low</div>
                    <div style="color: var(--text-muted);">Excellent security posture</div>
                </div>
            </div>

            <!-- Analytics Grid -->
            <div class="analytics-grid">
                <div class="chart-container">
                    <div class="chart-header">
                        <div class="chart-title">Training Completion Trends</div>
                    </div>
                    <div style="height: 300px; background: var(--bg-secondary); border-radius: 15px; display: flex; align-items: center; justify-content: center; color: var(--text-muted);">
                        Interactive Chart Area
                    </div>
                </div>
                
                <div class="leaderboard">
                    <div class="chart-header">
                        <div class="chart-title">Top Performers</div>
                    </div>
                    <div class="leaderboard-list">
                        <div class="leaderboard-item">
                            <div class="rank rank-1">1</div>
                            <div>
                                <div style="font-weight: 600;">Sarah Chen</div>
                                <div style="font-size: 0.8rem; color: var(--text-muted);">1,850 points</div>
                            </div>
                        </div>
                        <div class="leaderboard-item">
                            <div class="rank rank-2">2</div>
                            <div>
                                <div style="font-weight: 600;">Mike Rodriguez</div>
                                <div style="font-size: 0.8rem; color: var(--text-muted);">1,720 points</div>
                            </div>
                        </div>
                        <div class="leaderboard-item">
                            <div class="rank rank-3">3</div>
                            <div>
                                <div style="font-weight: 600;">Emily Watson</div>
                                <div style="font-size: 0.8rem; color: var(--text-muted);">1,680 points</div>
                            </div>
                        </div>
                        <div class="leaderboard-item">
                            <div class="rank rank-4">4</div>
                            <div>
                                <div style="font-weight: 600;">You</div>
                                <div style="font-size: 0.8rem; color: var(--text-muted);">1,250 points</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Training Modules -->
            <h3 style="margin-bottom: 1.5rem; font-size: 1.5rem; font-weight: 700;">Security Training Modules</h3>
            <div class="training-modules">
                <!-- Module cards would go here -->
            </div>

            <!-- Enhanced Zara AI -->
            <div class="zara-ai">
                <div class="zara-header">
                    <div class="zara-avatar">
                        <i class="fas fa-robot"></i>
                    </div>
                    <div>
                        <div style="font-size: 1.2rem; font-weight: 600;">Zara AI Assistant</div>
                        <div style="font-size: 0.9rem; opacity: 0.9;">Ready to help with your security training</div>
                    </div>
                </div>
                <div class="zara-chat" id="chat-messages">
                    <div class="message ai">
                        <strong>Zara:</strong> Welcome back, John! I see you've made great progress on the Phishing Awareness module. Ready to continue your training journey?
                    </div>
                    <div class="message ai">
                        <strong>Zara:</strong> Based on your team's performance, I recommend focusing on Data Protection next. Your team has a 92% completion rate so far!
                    </div>
                </div>
                <div class="zara-input">
                    <input type="text" placeholder="Ask Zara about training, achievements, or security..." style="flex: 1; padding: 1rem; border: 1px solid var(--border-light); border-radius: 12px; background: var(--bg-primary); color: var(--text-primary);">
                    <button class="btn btn-primary"><i class="fas fa-paper-plane"></i></button>
                </div>
            </div>
        </main>
    </div>

    <script>
        // Theme Toggle Functionality
        document.querySelector('.theme-toggle').addEventListener('click', function() {
            const isDark = document.body.getAttribute('data-theme') === 'dark';
            if (isDark) {
                document.body.removeAttribute('data-theme');
                localStorage.setItem('defendiq-theme', 'light');
            } else {
                document.body.setAttribute('data-theme', 'dark');
                localStorage.setItem('defendiq-theme', 'dark');
            }
        });

        // Initialize theme
        const savedTheme = localStorage.getItem('defendiq-theme');
        if (savedTheme === 'dark') {
            document.body.setAttribute('data-theme', 'dark');
        }

        // Enhanced Zara AI Chat
        document.querySelector('.zara-input button').addEventListener('click', sendMessage);
        document.querySelector('.zara-input input').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') sendMessage();
        });

        function sendMessage() {
            const input = document.querySelector('.zara-input input');
            const message = input.value.trim();
            
            if (message) {
                addMessage(message, 'user');
                input.value = '';
                
                // Simulate AI response
                setTimeout(() => {
                    const responses = [
                        "Great question! Based on your progress, I'd recommend focusing on the advanced modules next.",
                        "I can help you with that! Your team's current completion rate is 87%, which is excellent.",
                        "That's an important security topic. Let me pull up the relevant training materials for you.",
                        "I notice you've been making great progress! Would you like to set new training goals?",
                        "Based on analytics, your team excels in phishing detection but could improve in data encryption practices."
                    ];
                    const response = responses[Math.floor(Math.random() * responses.length)];
                    addMessage(`<strong>Zara:</strong> ${response}`, 'ai');
                }, 1000);
            }
        }

        function addMessage(text, sender) {
            const chat = document.getElementById('chat-messages');
            const message = document.createElement('div');
            message.className = `message ${sender}`;
            message.innerHTML = text;
            chat.appendChild(message);
            chat.scrollTop = chat.scrollHeight;
        }

        // Simulate progress animations
        document.querySelectorAll('.progress-fill').forEach(progress => {
            const width = progress.style.width;
            progress.style.width = '0%';
            setTimeout(() => {
                progress.style.width = width;
            }, 500);
        });

        // Add pulse animation to important elements
        document.querySelector('.card-icon').classList.add('pulse');
    </script>
</body>
</html>
